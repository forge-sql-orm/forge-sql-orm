const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-DzmuzxgH.js","./client-core-vendor-kqFzl-gg.js"])))=>i.map(i=>d[i]);
import{r as vn,c as ri}from"./react-dom-vendor-BXC0oJZi.js";import{g as ni,a as ii,r as A}from"./client-core-vendor-kqFzl-gg.js";import{r as oi}from"./lodash-vendor-wRvQIJsp.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&s(t)}).observe(document,{childList:!0,subtree:!0});function a(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=a(i);fetch(i.href,o)}})();var Xe={exports:{}},V={};var jt;function ai(){if(jt)return V;jt=1;var e=vn(),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function t(c,l,n){var u,f={},g=null,d=null;n!==void 0&&(g=""+n),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(d=l.ref);for(u in l)s.call(l,u)&&!o.hasOwnProperty(u)&&(f[u]=l[u]);if(c&&c.defaultProps)for(u in l=c.defaultProps,l)f[u]===void 0&&(f[u]=l[u]);return{$$typeof:r,type:c,key:g,ref:d,props:f,_owner:i.current}}return V.Fragment=a,V.jsx=t,V.jsxs=t,V}var Ct;function si(){return Ct||(Ct=1,Xe.exports=ai()),Xe.exports}var b=si(),Ue=vn();const ui=ni(Ue);var Ye={},Ot=function(e,r){return Ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(a[i]=s[i])},Ot(e,r)};function gn(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");Ot(e,r);function a(){this.constructor=e}e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}var Ve=function(){return Ve=Object.assign||function(r){for(var a,s=1,i=arguments.length;s<i;s++){a=arguments[s];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(r[o]=a[o])}return r},Ve.apply(this,arguments)};function hn(e,r){var a={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&r.indexOf(s)<0&&(a[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)r.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(a[s[i]]=e[s[i]]);return a}function pn(e,r,a,s){var i=arguments.length,o=i<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,a):s,t;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,r,a,s);else for(var c=e.length-1;c>=0;c--)(t=e[c])&&(o=(i<3?t(o):i>3?t(r,a,o):t(r,a))||o);return i>3&&o&&Object.defineProperty(r,a,o),o}function yn(e,r){return function(a,s){r(a,s,e)}}function mn(e,r,a,s,i,o){function t(h){if(h!==void 0&&typeof h!="function")throw new TypeError("Function expected");return h}for(var c=s.kind,l=c==="getter"?"get":c==="setter"?"set":"value",n=!r&&e?s.static?e:e.prototype:null,u=r||(n?Object.getOwnPropertyDescriptor(n,s.name):{}),f,g=!1,d=a.length-1;d>=0;d--){var p={};for(var _ in s)p[_]=_==="access"?{}:s[_];for(var _ in s.access)p.access[_]=s.access[_];p.addInitializer=function(h){if(g)throw new TypeError("Cannot add initializers after decoration has completed");o.push(t(h||null))};var v=(0,a[d])(c==="accessor"?{get:u.get,set:u.set}:u[l],p);if(c==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(f=t(v.get))&&(u.get=f),(f=t(v.set))&&(u.set=f),(f=t(v.init))&&i.unshift(f)}else(f=t(v))&&(c==="field"?i.unshift(f):u[l]=f)}n&&Object.defineProperty(n,s.name,u),g=!0}function bn(e,r,a){for(var s=arguments.length>2,i=0;i<r.length;i++)a=s?r[i].call(e,a):r[i].call(e);return s?a:void 0}function wn(e){return typeof e=="symbol"?e:"".concat(e)}function En(e,r,a){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:a?"".concat(a," ",r):r})}function On(e,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,r)}function Rn(e,r,a,s){function i(o){return o instanceof a?o:new a(function(t){t(o)})}return new(a||(a=Promise))(function(o,t){function c(u){try{n(s.next(u))}catch(f){t(f)}}function l(u){try{n(s.throw(u))}catch(f){t(f)}}function n(u){u.done?o(u.value):i(u.value).then(c,l)}n((s=s.apply(e,r||[])).next())})}function Pn(e,r){var a={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},s,i,o,t=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return t.next=c(0),t.throw=c(1),t.return=c(2),typeof Symbol=="function"&&(t[Symbol.iterator]=function(){return this}),t;function c(n){return function(u){return l([n,u])}}function l(n){if(s)throw new TypeError("Generator is already executing.");for(;t&&(t=0,n[0]&&(a=0)),a;)try{if(s=1,i&&(o=n[0]&2?i.return:n[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,n[1])).done)return o;switch(i=0,o&&(n=[n[0]&2,o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,i=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(o=a.trys,!(o=o.length>0&&o[o.length-1])&&(n[0]===6||n[0]===2)){a=0;continue}if(n[0]===3&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(n[0]===6&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=r.call(e,a)}catch(u){n=[6,u],i=0}finally{s=o=0}if(n[0]&5)throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}}var Ke=Object.create?(function(e,r,a,s){s===void 0&&(s=a);var i=Object.getOwnPropertyDescriptor(r,a);(!i||("get"in i?!r.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return r[a]}}),Object.defineProperty(e,s,i)}):(function(e,r,a,s){s===void 0&&(s=a),e[s]=r[a]});function Sn(e,r){for(var a in e)a!=="default"&&!Object.prototype.hasOwnProperty.call(r,a)&&Ke(r,e,a)}function ze(e){var r=typeof Symbol=="function"&&Symbol.iterator,a=r&&e[r],s=0;if(a)return a.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function St(e,r){var a=typeof Symbol=="function"&&e[Symbol.iterator];if(!a)return e;var s=a.call(e),i,o=[],t;try{for(;(r===void 0||r-- >0)&&!(i=s.next()).done;)o.push(i.value)}catch(c){t={error:c}}finally{try{i&&!i.done&&(a=s.return)&&a.call(s)}finally{if(t)throw t.error}}return o}function In(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(St(arguments[r]));return e}function jn(){for(var e=0,r=0,a=arguments.length;r<a;r++)e+=arguments[r].length;for(var s=Array(e),i=0,r=0;r<a;r++)for(var o=arguments[r],t=0,c=o.length;t<c;t++,i++)s[i]=o[t];return s}function Cn(e,r,a){if(a||arguments.length===2)for(var s=0,i=r.length,o;s<i;s++)(o||!(s in r))&&(o||(o=Array.prototype.slice.call(r,0,s)),o[s]=r[s]);return e.concat(o||Array.prototype.slice.call(r))}function N(e){return this instanceof N?(this.v=e,this):new N(e)}function qn(e,r,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(e,r||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",t),i[Symbol.asyncIterator]=function(){return this},i;function t(d){return function(p){return Promise.resolve(p).then(d,f)}}function c(d,p){s[d]&&(i[d]=function(_){return new Promise(function(v,h){o.push([d,_,v,h])>1||l(d,_)})},p&&(i[d]=p(i[d])))}function l(d,p){try{n(s[d](p))}catch(_){g(o[0][3],_)}}function n(d){d.value instanceof N?Promise.resolve(d.value.v).then(u,f):g(o[0][2],d)}function u(d){l("next",d)}function f(d){l("throw",d)}function g(d,p){d(p),o.shift(),o.length&&l(o[0][0],o[0][1])}}function An(e){var r,a;return r={},s("next"),s("throw",function(i){throw i}),s("return"),r[Symbol.iterator]=function(){return this},r;function s(i,o){r[i]=e[i]?function(t){return(a=!a)?{value:N(e[i](t)),done:!1}:o?o(t):t}:o}}function Mn(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],a;return r?r.call(e):(e=typeof ze=="function"?ze(e):e[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(o){a[o]=e[o]&&function(t){return new Promise(function(c,l){t=e[o](t),i(c,l,t.done,t.value)})}}function i(o,t,c,l){Promise.resolve(l).then(function(n){o({value:n,done:c})},t)}}function Dn(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var li=Object.create?(function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}):function(e,r){e.default=r},Rt=function(e){return Rt=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},Rt(e)};function Bn(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=Rt(e),s=0;s<a.length;s++)a[s]!=="default"&&Ke(r,e,a[s]);return li(r,e),r}function Tn(e){return e&&e.__esModule?e:{default:e}}function Fn(e,r,a,s){if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e!==r||!s:!r.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?s:a==="a"?s.call(e):s?s.value:r.get(e)}function kn(e,r,a,s,i){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e!==r||!i:!r.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?i.call(e,a):i?i.value=a:r.set(e,a),a}function xn(e,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?r===e:e.has(r)}function Un(e,r,a){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var s,i;if(a){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");s=r[Symbol.asyncDispose]}if(s===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");s=r[Symbol.dispose],a&&(i=s)}if(typeof s!="function")throw new TypeError("Object not disposable.");i&&(s=function(){try{i.call(this)}catch(o){return Promise.reject(o)}}),e.stack.push({value:r,dispose:s,async:a})}else a&&e.stack.push({async:!0});return r}var ci=typeof SuppressedError=="function"?SuppressedError:function(e,r,a){var s=new Error(a);return s.name="SuppressedError",s.error=e,s.suppressed=r,s};function Ln(e){function r(o){e.error=e.hasError?new ci(o,e.error,"An error was suppressed during disposal."):o,e.hasError=!0}var a,s=0;function i(){for(;a=e.stack.pop();)try{if(!a.async&&s===1)return s=0,e.stack.push(a),Promise.resolve().then(i);if(a.dispose){var o=a.dispose.call(a.value);if(a.async)return s|=2,Promise.resolve(o).then(i,function(t){return r(t),i()})}else s|=1}catch(t){r(t)}if(s===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return i()}function Nn(e,r){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(a,s,i,o,t){return s?r?".jsx":".js":i&&(!o||!t)?a:i+o+"."+t.toLowerCase()+"js"}):e}const di={__extends:gn,__assign:Ve,__rest:hn,__decorate:pn,__param:yn,__esDecorate:mn,__runInitializers:bn,__propKey:wn,__setFunctionName:En,__metadata:On,__awaiter:Rn,__generator:Pn,__createBinding:Ke,__exportStar:Sn,__values:ze,__read:St,__spread:In,__spreadArrays:jn,__spreadArray:Cn,__await:N,__asyncGenerator:qn,__asyncDelegator:An,__asyncValues:Mn,__makeTemplateObject:Dn,__importStar:Bn,__importDefault:Tn,__classPrivateFieldGet:Fn,__classPrivateFieldSet:kn,__classPrivateFieldIn:xn,__addDisposableResource:Un,__disposeResources:Ln,__rewriteRelativeImportExtension:Nn},fi=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Un,get __assign(){return Ve},__asyncDelegator:An,__asyncGenerator:qn,__asyncValues:Mn,__await:N,__awaiter:Rn,__classPrivateFieldGet:Fn,__classPrivateFieldIn:xn,__classPrivateFieldSet:kn,__createBinding:Ke,__decorate:pn,__disposeResources:Ln,__esDecorate:mn,__exportStar:Sn,__extends:gn,__generator:Pn,__importDefault:Tn,__importStar:Bn,__makeTemplateObject:Dn,__metadata:On,__param:yn,__propKey:wn,__read:St,__rest:hn,__rewriteRelativeImportExtension:Nn,__runInitializers:bn,__setFunctionName:En,__spread:In,__spreadArray:Cn,__spreadArrays:jn,__values:ze,default:di},Symbol.toStringTag,{value:"Module"})),P=ii(fi);var z={},qt;function _i(){return qt||(qt=1,Object.defineProperty(z,"__esModule",{value:!0}),z.NavigationTarget=void 0,z.NavigationTarget={ContentView:"contentView",ContentEdit:"contentEdit",ContentList:"contentList",SpaceView:"spaceView",Module:"module",UserProfile:"userProfile",Dashboard:"dashboard",Issue:"issue",ProjectSettingsDetails:"projectSettingsDetails"}),z}var $e={},Ze={},K={},H={},At;function R(){if(At)return H;At=1,Object.defineProperty(H,"__esModule",{value:!0}),H.BridgeAPIError=void 0;class e extends Error{}return H.BridgeAPIError=e,H}var Mt;function w(){if(Mt)return K;Mt=1,Object.defineProperty(K,"__esModule",{value:!0}),K.getCallBridge=void 0;const e=R();function r(s){return!!s?.callBridge}const a=()=>{if(!r(window.__bridge))throw new e.BridgeAPIError(`
      Unable to establish a connection with the Custom UI bridge.
      If you are trying to run your app locally, Forge apps only work in the context of Atlassian products. Refer to https://go.atlassian.com/forge-tunneling-with-custom-ui for how to tunnel when using a local development server.
    `);return window.__bridge.callBridge};return K.getCallBridge=a,K}var W={},Dt;function He(){if(Dt)return W;Dt=1,Object.defineProperty(W,"__esModule",{value:!0}),W.withRateLimiter=void 0;const e=R(),r=(a,s,i,o)=>{let t=Date.now(),c=0;return async(...l)=>{const n=Date.now();if(n-t>i&&(t=n,c=0),c>=s)throw new e.BridgeAPIError(o||"Too many invocations.");return c=c+1,a(...l)}};return W.withRateLimiter=r,W}var Bt;function vi(){return Bt||(Bt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.makeInvoke=e.invoke=void 0;const r=w(),a=R(),s=He(),i=(0,r.getCallBridge)(),o=l=>{if(l&&Object.values(l).some(n=>typeof n=="function"))throw new a.BridgeAPIError("Passing functions as part of the payload is not supported!")},t=(l,n)=>{if(typeof l!="string")throw new a.BridgeAPIError("functionKey must be a string!");return o(n),i("invoke",{functionKey:l,payload:n})};e.invoke=(0,s.withRateLimiter)(t,500,1e3*25,"Resolver calls are rate limited at 500req/25s");function c(){return e.invoke}e.makeInvoke=c})(Ze)),Ze}var Tt;function Le(){return Tt||(Tt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),P.__exportStar(vi(),e)})($e)),$e}var et={},J={},tt={},Ft;function Gn(){return Ft||(Ft=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._invokeEndpointFn=e.InvokeType=void 0;const r=w(),a=R(),s=He(),i=500,o=25,t=1e3*o;(function(f){f.REMOTE="Remote",f.SERVICE="Container"})(e.InvokeType||(e.InvokeType={}));const c=(0,r.getCallBridge)(),l=f=>{if(f&&Object.values(f).some(g=>typeof g=="function"))throw new a.BridgeAPIError("Passing functions as part of the payload is not supported!")},n=f=>async g=>{l(g);const d={...g,invokeType:`ui-${f.toLowerCase()}-fetch`},p=await c("invoke",d),{success:_,payload:v,error:h}=p??{},y={..._?v:h};if(y&&y.headers)for(const m in y.headers)Array.isArray(y.headers[m])&&(y.headers[m]=y.headers[m].join(","));return y},u=f=>{const g=n(f);return(0,s.withRateLimiter)(g,i,t,`${f} invocation calls are rate limited at ${i}/${o}s`)};e._invokeEndpointFn=u})(tt)),tt}var kt;function gi(){if(kt)return J;kt=1,Object.defineProperty(J,"__esModule",{value:!0}),J.invokeRemote=void 0;const e=Gn(),r=a=>(0,e._invokeEndpointFn)(e.InvokeType.REMOTE)(a);return J.invokeRemote=r,J}var Q={},xt;function hi(){if(xt)return Q;xt=1,Object.defineProperty(Q,"__esModule",{value:!0}),Q.invokeService=void 0;const e=Gn(),r=a=>(0,e._invokeEndpointFn)(e.InvokeType.SERVICE)(a);return Q.invokeService=r,Q}var Ut;function pi(){return Ut||(Ut=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const r=P;r.__exportStar(gi(),e),r.__exportStar(hi(),e)})(et)),et}var rt={},X={},Y={},Lt;function yi(){if(Lt)return Y;Lt=1,Object.defineProperty(Y,"__esModule",{value:!0}),Y.submit=void 0;const e=w(),r=R(),a=(0,e.getCallBridge)(),s=async i=>{if(await a("submit",i)===!1)throw new r.BridgeAPIError("this resource's view is not submittable.")};return Y.submit=s,Y}var $={},Nt;function mi(){if(Nt)return $;Nt=1,Object.defineProperty($,"__esModule",{value:!0}),$.close=void 0;const e=w(),r=R(),a=(0,e.getCallBridge)(),s=async i=>{try{if(await a("close",i)===!1)throw new r.BridgeAPIError("this resource's view is not closable.")}catch{throw new r.BridgeAPIError("this resource's view is not closable.")}};return $.close=s,$}var Z={},Gt;function bi(){if(Gt)return Z;Gt=1,Object.defineProperty(Z,"__esModule",{value:!0}),Z.open=void 0;const e=w(),r=R(),a=(0,e.getCallBridge)(),s=async()=>{try{if(await a("open")===!1)throw new r.BridgeAPIError("this resource's view is not openable.")}catch{throw new r.BridgeAPIError("this resource's view is not openable.")}};return Z.open=s,Z}var ee={},Vt;function wi(){if(Vt)return ee;Vt=1,Object.defineProperty(ee,"__esModule",{value:!0}),ee.refresh=void 0;const e=w(),r=R(),a=(0,e.getCallBridge)(),s=async i=>{if(await a("refresh",i)===!1)throw new r.BridgeAPIError("this resource's view is not refreshable.")};return ee.refresh=s,ee}var te={},zt;function Ei(){if(zt)return te;zt=1,Object.defineProperty(te,"__esModule",{value:!0}),te.createHistory=void 0;const r=(0,w().getCallBridge)(),a=async()=>{const s=await r("createHistory");return s.listen(i=>{s.location=i}),s};return te.createHistory=a,te}var re={},nt={},I={},Kt;function Vn(){return Kt||(Kt=1,Object.defineProperty(I,"__esModule",{value:!0}),I.FORGE_SUPPORTED_LOCALE_CODES=I.I18N_BUNDLE_FOLDER_NAME=I.I18N_INFO_FILE_NAME=void 0,I.I18N_INFO_FILE_NAME="i18n-info.json",I.I18N_BUNDLE_FOLDER_NAME="__LOCALES__",I.FORGE_SUPPORTED_LOCALE_CODES=["zh-CN","zh-TW","cs-CZ","da-DK","nl-NL","en-US","en-GB","et-EE","fi-FI","fr-FR","de-DE","hu-HU","is-IS","it-IT","ja-JP","ko-KR","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","tr-TR","es-ES","sv-SE"]),I}var D={},Ht;function Oi(){if(Ht)return D;Ht=1,Object.defineProperty(D,"__esModule",{value:!0}),D.TranslationsGetter=D.TranslationGetterError=void 0;const e=(s,i)=>{s.includes(i)||s.push(i)};class r extends Error{constructor(i){super(i),this.name="TranslationGetterError"}}D.TranslationGetterError=r;class a{resourcesAccessor;i18nInfoConfig=null;translationResources=new Map;constructor(i){this.resourcesAccessor=i}async getTranslations(i,o={fallback:!0}){const t=await this.getI18nInfoConfig(),{fallback:c}=o;if(!c){let l;return t.locales.includes(i)&&(l=await this.getTranslationResource(i)),{translations:l??null,locale:i}}for(const l of this.getLocaleLookupOrder(i,t)){const n=await this.getTranslationResource(l);if(n)return{translations:n,locale:l}}return{translations:null,locale:i}}async getTranslationsByLocaleLookupOrder(i){const o=await this.getI18nInfoConfig(),t=this.getLocaleLookupOrder(i,o);return await Promise.all(t.map(async c=>{const l=await this.getTranslationResource(c);return{locale:c,translations:l}}))}reset(){this.i18nInfoConfig=null,this.translationResources.clear()}async getTranslationResource(i){let o=this.translationResources.get(i);if(!o)try{o=await this.resourcesAccessor.getTranslationResource(i),this.translationResources.set(i,o)}catch(t){throw t instanceof r?t:new r(`Failed to get translation resource for locale: ${i}`)}return o}async getI18nInfoConfig(){if(!this.i18nInfoConfig)try{this.i18nInfoConfig=await this.resourcesAccessor.getI18nInfoConfig()}catch(i){throw i instanceof r?i:new r("Failed to get i18n info config")}return this.i18nInfoConfig}getLocaleLookupOrder(i,o){const{locales:t,fallback:c}=o,l=[i],n=c[i];return n&&Array.isArray(n)&&n.length>0&&l.push(...n),e(l,o.fallback.default),l.filter(u=>t.includes(u))}}return D.TranslationsGetter=a,D}var ne={},it={},Wt;function zn(){return Wt||(Wt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslationValueFromContent=e.getTranslationValue=void 0;const a=P.__importDefault(oi()),s=(o,t,c)=>{const l=o[c];return l?(0,e.getTranslationValueFromContent)(l,t):null};e.getTranslationValue=s;const i=(o,t)=>{let c=o[t];if(!c){const l=t.split(".");l.length>1&&(c=(0,a.default)(o,l,null))}return typeof c=="string"?c:null};e.getTranslationValueFromContent=i})(it)),it}var Jt;function Ri(){if(Jt)return ne;Jt=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.Translator=void 0;const e=zn();class r{locale;translationsGetter;localeLookupOrderedTranslations=null;cache=new Map;constructor(s,i){this.locale=s,this.translationsGetter=i}async init(){this.localeLookupOrderedTranslations=await this.translationsGetter.getTranslationsByLocaleLookupOrder(this.locale)}translate(s){if(!this.localeLookupOrderedTranslations)throw new Error("TranslationLookup not initialized");let i=this.cache.get(s);if(i===void 0){for(const{translations:o}of this.localeLookupOrderedTranslations){const t=(0,e.getTranslationValueFromContent)(o,s);if(t!==null){i=t;break}}i=i??null,this.cache.set(s,i)}return i}}return ne.Translator=r,ne}var ie={},Qt;function Pi(){if(Qt)return ie;Qt=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.ensureLocale=void 0;const e=Vn(),r=new Set(e.FORGE_SUPPORTED_LOCALE_CODES),a={"en-UK":"en-GB","nb-NO":"no-NO"},s=e.FORGE_SUPPORTED_LOCALE_CODES.reduce((o,t)=>{const[c]=t.split("-");return o[c]||(o[c]=t),o},{nb:"no-NO",pt:"pt-PT"}),i=o=>{const t=o.replace("_","-");return r.has(t)?t:s[t]??a[t]??null};return ie.ensureLocale=i,ie}var ot={},Xt;function Si(){return Xt||(Xt=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getI18nSupportedModuleEntries=void 0;const r=n=>typeof n=="object"&&n!==null&&!Array.isArray(n),a=n=>typeof n?.i18n=="string",s=n=>n.startsWith("connect-"),i=n=>n.startsWith("core:"),o=n=>{const u=new Set,f=(g,d)=>!r(g)||u.has(g)?[]:(u.add(g),Object.entries(g).flatMap(([p,_])=>{const v=[...d,p];return a(_)?[{propertyPath:v,key:_.i18n}]:Array.isArray(_)?_.flatMap(h=>f(h,v)):f(_,v)}));return f(n,[])},t=n=>Object.entries(n).flatMap(([u,f])=>!s(u)&&!i(u)&&f&&Array.isArray(f)&&f.length>0?f.map(g=>[g,u]):[]);e.getI18nSupportedModuleEntries=t;const c=n=>{const u=new Set;for(const f of(0,e.getI18nSupportedModuleEntries)(n)){const g=o(f[0]);for(const{key:d}of g)u.add(d)}return u.size>0?Array.from(u):[]};e.extractI18nKeysFromModules=c;const l=n=>{const u=[];for(const f of(0,e.getI18nSupportedModuleEntries)(n)){const g=o(f[0]);for(const d of g)u.push({moduleName:f[1],...d})}return u};e.extractI18nPropertiesFromModules=l})(ot)),ot}var at={},Yt;function Ii(){return Yt||(Yt=1,Object.defineProperty(at,"__esModule",{value:!0})),at}var $t;function Kn(){return $t||($t=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getI18nSupportedModuleEntries=e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getTranslationValue=void 0;const r=P;r.__exportStar(Vn(),e),r.__exportStar(Oi(),e),r.__exportStar(Ri(),e),r.__exportStar(Pi(),e);var a=zn();Object.defineProperty(e,"getTranslationValue",{enumerable:!0,get:function(){return a.getTranslationValue}});var s=Si();Object.defineProperty(e,"extractI18nKeysFromModules",{enumerable:!0,get:function(){return s.extractI18nKeysFromModules}}),Object.defineProperty(e,"extractI18nPropertiesFromModules",{enumerable:!0,get:function(){return s.extractI18nPropertiesFromModules}}),Object.defineProperty(e,"getI18nSupportedModuleEntries",{enumerable:!0,get:function(){return s.getI18nSupportedModuleEntries}}),r.__exportStar(Ii(),e)})(nt)),nt}var Zt;function ji(){if(Zt)return re;Zt=1,Object.defineProperty(re,"__esModule",{value:!0}),re.getContext=void 0;const e=w(),r=Kn(),a=(0,e.getCallBridge)(),s=async()=>{var i;const o=await a("getContext"),t=o?.locale;return t&&(o.locale=(i=(0,r.ensureLocale)(t))!==null&&i!==void 0?i:t),o};return re.getContext=s,re}var oe={},er;function Ci(){if(er)return oe;er=1,Object.defineProperty(oe,"__esModule",{value:!0}),oe.changeWindowTitle=void 0;const e=w(),r=R(),a=(0,e.getCallBridge)(),s=async i=>{try{await a("changeWindowTitle",i)}catch{throw new r.BridgeAPIError("the window title wasn't changed due to error.")}};return oe.changeWindowTitle=s,oe}var ae={},tr;function qi(){if(tr)return ae;tr=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.theme=void 0;const r=(0,w().getCallBridge)();return ae.theme={enable:()=>r("enableTheming")},ae}var se={},ue={},st={},B={},rr;function Hn(){if(rr)return B;rr=1,Object.defineProperty(B,"__esModule",{value:!0}),B.blobToBase64=B.base64ToBlob=void 0;const e=(a,s)=>{if(!a)return null;const i=a.includes(";base64")?a.split(",")[1]:a,o=atob(i),t=new Array(o.length);for(let l=0;l<o.length;l++)t[l]=o.charCodeAt(l);const c=new Uint8Array(t);return new Blob([c],{type:s})};B.base64ToBlob=e;const r=a=>new Promise((s,i)=>{const o=new FileReader;o.onloadend=()=>{s(o.result)},o.onerror=i,o.readAsDataURL(a)});return B.blobToBase64=r,B}var nr;function Ai(){return nr||(nr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsSerialisedBlobs=e.containsBlobs=e.deserialiseBlobsInPayload=e.serialiseBlobsInPayload=void 0;const r=Hn(),a=n=>{if(typeof n!="object"||n===null||Object.prototype.toString.call(n)!=="[object Object]")return!1;const u=Object.getPrototypeOf(n);if(u===null)return!0;const f=Object.prototype.hasOwnProperty.call(u,"constructor")&&u.constructor;return typeof f=="function"&&f instanceof f&&Function.prototype.call(f)===Function.prototype.call(n)},s=async n=>({data:await(0,r.blobToBase64)(n),type:n.type}),i=n=>(0,r.base64ToBlob)(n.data,n.type),o=async n=>{if(n instanceof Blob)return{...await s(n),__isBlobData:!0};if(Array.isArray(n))return Promise.all(n.map(u=>(0,e.serialiseBlobsInPayload)(u)));if(n&&a(n)){const u=await Promise.all(Object.entries(n).map(async([f,g])=>[f,await(0,e.serialiseBlobsInPayload)(g)]));return Object.fromEntries(u)}return n};e.serialiseBlobsInPayload=o;const t=n=>{if(n&&a(n)&&"__isBlobData"in n){const u=n;return i({data:u.data,type:u.type})}if(Array.isArray(n))return n.map(u=>(0,e.deserialiseBlobsInPayload)(u));if(n&&a(n)){const u={};for(const[f,g]of Object.entries(n))u[f]=(0,e.deserialiseBlobsInPayload)(g);return u}return n};e.deserialiseBlobsInPayload=t;const c=n=>n instanceof Blob?!0:Array.isArray(n)?n.some(u=>(0,e.containsBlobs)(u)):n&&a(n)?Object.values(n).some(u=>(0,e.containsBlobs)(u)):!1;e.containsBlobs=c;const l=n=>n&&a(n)&&"__isBlobData"in n?!0:Array.isArray(n)?n.some(u=>(0,e.containsSerialisedBlobs)(u)):n&&a(n)?Object.values(n).some(u=>(0,e.containsSerialisedBlobs)(u)):!1;e.containsSerialisedBlobs=l})(st)),st}var ir;function Wn(){if(ir)return ue;ir=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.events=void 0;const e=w(),r=Ai(),a=(0,e.getCallBridge)(),s=async(o,t)=>{let c=t;return(0,r.containsBlobs)(t)&&(c=await(0,r.serialiseBlobsInPayload)(t)),a("emit",{event:o,payload:c})},i=(o,t)=>a("on",{event:o,callback:l=>{let n=l;return(0,r.containsSerialisedBlobs)(l)&&(n=(0,r.deserialiseBlobsInPayload)(l)),t(n)}});return ue.events={emit:s,on:i},ue}var or;function Mi(){if(or)return se;or=1,Object.defineProperty(se,"__esModule",{value:!0}),se.emitReadyEvent=void 0;const e=Wn(),r=Yn(),a="EXTENSION_READY",s=async()=>{const i=await r.view.getContext();await e.events.emit(a,{localId:i.localId})};return se.emitReadyEvent=s,se}const Di="modulepreload",Bi=function(e,r){return new URL(e,r).href},ar={},Ti=function(r,a,s){let i=Promise.resolve();if(a&&a.length>0){let n=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const t=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),l=c?.nonce||c?.getAttribute("nonce");i=n(a.map(u=>{if(u=Bi(u,s),u in ar)return;ar[u]=!0;const f=u.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(s)for(let p=t.length-1;p>=0;p--){const _=t[p];if(_.href===u&&(!f||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${g}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Di,f||(d.as="script"),d.crossOrigin="",d.href=u,l&&d.setAttribute("nonce",l),document.head.appendChild(d),f)return new Promise((p,_)=>{d.addEventListener("load",p),d.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(t){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=t,window.dispatchEvent(c),!c.defaultPrevented)throw t}return i.then(t=>{for(const c of t||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})};var le={},ut={},ce={},Ne={},sr;function Jn(){if(sr)return Ne;sr=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.default=a;let e;const r=new Uint8Array(16);function a(){if(!e&&(e=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!e))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return e(r)}return Ne}var x={},de={},fe={},ur;function Fi(){if(ur)return fe;ur=1,Object.defineProperty(fe,"__esModule",{value:!0}),fe.default=void 0;var e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;return fe.default=e,fe}var lr;function We(){if(lr)return de;lr=1,Object.defineProperty(de,"__esModule",{value:!0}),de.default=void 0;var e=r(Fi());function r(i){return i&&i.__esModule?i:{default:i}}function a(i){return typeof i=="string"&&e.default.test(i)}var s=a;return de.default=s,de}var cr;function Je(){if(cr)return x;cr=1,Object.defineProperty(x,"__esModule",{value:!0}),x.default=void 0,x.unsafeStringify=s;var e=r(We());function r(t){return t&&t.__esModule?t:{default:t}}const a=[];for(let t=0;t<256;++t)a.push((t+256).toString(16).slice(1));function s(t,c=0){return a[t[c+0]]+a[t[c+1]]+a[t[c+2]]+a[t[c+3]]+"-"+a[t[c+4]]+a[t[c+5]]+"-"+a[t[c+6]]+a[t[c+7]]+"-"+a[t[c+8]]+a[t[c+9]]+"-"+a[t[c+10]]+a[t[c+11]]+a[t[c+12]]+a[t[c+13]]+a[t[c+14]]+a[t[c+15]]}function i(t,c=0){const l=s(t,c);if(!(0,e.default)(l))throw TypeError("Stringified UUID is invalid");return l}var o=i;return x.default=o,x}var dr;function ki(){if(dr)return ce;dr=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=void 0;var e=a(Jn()),r=Je();function a(n){return n&&n.__esModule?n:{default:n}}let s,i,o=0,t=0;function c(n,u,f){let g=u&&f||0;const d=u||new Array(16);n=n||{};let p=n.node||s,_=n.clockseq!==void 0?n.clockseq:i;if(p==null||_==null){const E=n.random||(n.rng||e.default)();p==null&&(p=s=[E[0]|1,E[1],E[2],E[3],E[4],E[5]]),_==null&&(_=i=(E[6]<<8|E[7])&16383)}let v=n.msecs!==void 0?n.msecs:Date.now(),h=n.nsecs!==void 0?n.nsecs:t+1;const y=v-o+(h-t)/1e4;if(y<0&&n.clockseq===void 0&&(_=_+1&16383),(y<0||v>o)&&n.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=v,t=h,i=_,v+=122192928e5;const m=((v&268435455)*1e4+h)%4294967296;d[g++]=m>>>24&255,d[g++]=m>>>16&255,d[g++]=m>>>8&255,d[g++]=m&255;const O=v/4294967296*1e4&268435455;d[g++]=O>>>8&255,d[g++]=O&255,d[g++]=O>>>24&15|16,d[g++]=O>>>16&255,d[g++]=_>>>8|128,d[g++]=_&255;for(let E=0;E<6;++E)d[g+E]=p[E];return u||(0,r.unsafeStringify)(d)}var l=c;return ce.default=l,ce}var _e={},q={},ve={},fr;function Qn(){if(fr)return ve;fr=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.default=void 0;var e=r(We());function r(i){return i&&i.__esModule?i:{default:i}}function a(i){if(!(0,e.default)(i))throw TypeError("Invalid UUID");let o;const t=new Uint8Array(16);return t[0]=(o=parseInt(i.slice(0,8),16))>>>24,t[1]=o>>>16&255,t[2]=o>>>8&255,t[3]=o&255,t[4]=(o=parseInt(i.slice(9,13),16))>>>8,t[5]=o&255,t[6]=(o=parseInt(i.slice(14,18),16))>>>8,t[7]=o&255,t[8]=(o=parseInt(i.slice(19,23),16))>>>8,t[9]=o&255,t[10]=(o=parseInt(i.slice(24,36),16))/1099511627776&255,t[11]=o/4294967296&255,t[12]=o>>>24&255,t[13]=o>>>16&255,t[14]=o>>>8&255,t[15]=o&255,t}var s=a;return ve.default=s,ve}var _r;function Xn(){if(_r)return q;_r=1,Object.defineProperty(q,"__esModule",{value:!0}),q.URL=q.DNS=void 0,q.default=t;var e=Je(),r=a(Qn());function a(c){return c&&c.__esModule?c:{default:c}}function s(c){c=unescape(encodeURIComponent(c));const l=[];for(let n=0;n<c.length;++n)l.push(c.charCodeAt(n));return l}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";q.DNS=i;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";q.URL=o;function t(c,l,n){function u(f,g,d,p){var _;if(typeof f=="string"&&(f=s(f)),typeof g=="string"&&(g=(0,r.default)(g)),((_=g)===null||_===void 0?void 0:_.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let v=new Uint8Array(16+f.length);if(v.set(g),v.set(f,g.length),v=n(v),v[6]=v[6]&15|l,v[8]=v[8]&63|128,d){p=p||0;for(let h=0;h<16;++h)d[p+h]=v[h];return d}return(0,e.unsafeStringify)(v)}try{u.name=c}catch{}return u.DNS=i,u.URL=o,u}return q}var ge={},vr;function xi(){if(vr)return ge;vr=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.default=void 0;function e(d){if(typeof d=="string"){const p=unescape(encodeURIComponent(d));d=new Uint8Array(p.length);for(let _=0;_<p.length;++_)d[_]=p.charCodeAt(_)}return r(s(i(d),d.length*8))}function r(d){const p=[],_=d.length*32,v="0123456789abcdef";for(let h=0;h<_;h+=8){const y=d[h>>5]>>>h%32&255,m=parseInt(v.charAt(y>>>4&15)+v.charAt(y&15),16);p.push(m)}return p}function a(d){return(d+64>>>9<<4)+14+1}function s(d,p){d[p>>5]|=128<<p%32,d[a(p)-1]=p;let _=1732584193,v=-271733879,h=-1732584194,y=271733878;for(let m=0;m<d.length;m+=16){const O=_,E=v,C=h,G=y;_=l(_,v,h,y,d[m],7,-680876936),y=l(y,_,v,h,d[m+1],12,-389564586),h=l(h,y,_,v,d[m+2],17,606105819),v=l(v,h,y,_,d[m+3],22,-1044525330),_=l(_,v,h,y,d[m+4],7,-176418897),y=l(y,_,v,h,d[m+5],12,1200080426),h=l(h,y,_,v,d[m+6],17,-1473231341),v=l(v,h,y,_,d[m+7],22,-45705983),_=l(_,v,h,y,d[m+8],7,1770035416),y=l(y,_,v,h,d[m+9],12,-1958414417),h=l(h,y,_,v,d[m+10],17,-42063),v=l(v,h,y,_,d[m+11],22,-1990404162),_=l(_,v,h,y,d[m+12],7,1804603682),y=l(y,_,v,h,d[m+13],12,-40341101),h=l(h,y,_,v,d[m+14],17,-1502002290),v=l(v,h,y,_,d[m+15],22,1236535329),_=n(_,v,h,y,d[m+1],5,-165796510),y=n(y,_,v,h,d[m+6],9,-1069501632),h=n(h,y,_,v,d[m+11],14,643717713),v=n(v,h,y,_,d[m],20,-373897302),_=n(_,v,h,y,d[m+5],5,-701558691),y=n(y,_,v,h,d[m+10],9,38016083),h=n(h,y,_,v,d[m+15],14,-660478335),v=n(v,h,y,_,d[m+4],20,-405537848),_=n(_,v,h,y,d[m+9],5,568446438),y=n(y,_,v,h,d[m+14],9,-1019803690),h=n(h,y,_,v,d[m+3],14,-187363961),v=n(v,h,y,_,d[m+8],20,1163531501),_=n(_,v,h,y,d[m+13],5,-1444681467),y=n(y,_,v,h,d[m+2],9,-51403784),h=n(h,y,_,v,d[m+7],14,1735328473),v=n(v,h,y,_,d[m+12],20,-1926607734),_=u(_,v,h,y,d[m+5],4,-378558),y=u(y,_,v,h,d[m+8],11,-2022574463),h=u(h,y,_,v,d[m+11],16,1839030562),v=u(v,h,y,_,d[m+14],23,-35309556),_=u(_,v,h,y,d[m+1],4,-1530992060),y=u(y,_,v,h,d[m+4],11,1272893353),h=u(h,y,_,v,d[m+7],16,-155497632),v=u(v,h,y,_,d[m+10],23,-1094730640),_=u(_,v,h,y,d[m+13],4,681279174),y=u(y,_,v,h,d[m],11,-358537222),h=u(h,y,_,v,d[m+3],16,-722521979),v=u(v,h,y,_,d[m+6],23,76029189),_=u(_,v,h,y,d[m+9],4,-640364487),y=u(y,_,v,h,d[m+12],11,-421815835),h=u(h,y,_,v,d[m+15],16,530742520),v=u(v,h,y,_,d[m+2],23,-995338651),_=f(_,v,h,y,d[m],6,-198630844),y=f(y,_,v,h,d[m+7],10,1126891415),h=f(h,y,_,v,d[m+14],15,-1416354905),v=f(v,h,y,_,d[m+5],21,-57434055),_=f(_,v,h,y,d[m+12],6,1700485571),y=f(y,_,v,h,d[m+3],10,-1894986606),h=f(h,y,_,v,d[m+10],15,-1051523),v=f(v,h,y,_,d[m+1],21,-2054922799),_=f(_,v,h,y,d[m+8],6,1873313359),y=f(y,_,v,h,d[m+15],10,-30611744),h=f(h,y,_,v,d[m+6],15,-1560198380),v=f(v,h,y,_,d[m+13],21,1309151649),_=f(_,v,h,y,d[m+4],6,-145523070),y=f(y,_,v,h,d[m+11],10,-1120210379),h=f(h,y,_,v,d[m+2],15,718787259),v=f(v,h,y,_,d[m+9],21,-343485551),_=o(_,O),v=o(v,E),h=o(h,C),y=o(y,G)}return[_,v,h,y]}function i(d){if(d.length===0)return[];const p=d.length*8,_=new Uint32Array(a(p));for(let v=0;v<p;v+=8)_[v>>5]|=(d[v/8]&255)<<v%32;return _}function o(d,p){const _=(d&65535)+(p&65535);return(d>>16)+(p>>16)+(_>>16)<<16|_&65535}function t(d,p){return d<<p|d>>>32-p}function c(d,p,_,v,h,y){return o(t(o(o(p,d),o(v,y)),h),_)}function l(d,p,_,v,h,y,m){return c(p&_|~p&v,d,p,h,y,m)}function n(d,p,_,v,h,y,m){return c(p&v|_&~v,d,p,h,y,m)}function u(d,p,_,v,h,y,m){return c(p^_^v,d,p,h,y,m)}function f(d,p,_,v,h,y,m){return c(_^(p|~v),d,p,h,y,m)}var g=e;return ge.default=g,ge}var gr;function Ui(){if(gr)return _e;gr=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.default=void 0;var e=a(Xn()),r=a(xi());function a(o){return o&&o.__esModule?o:{default:o}}var i=(0,e.default)("v3",48,r.default);return _e.default=i,_e}var he={},pe={},hr;function Li(){if(hr)return pe;hr=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.default=void 0;var r={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};return pe.default=r,pe}var pr;function Ni(){if(pr)return he;pr=1,Object.defineProperty(he,"__esModule",{value:!0}),he.default=void 0;var e=s(Li()),r=s(Jn()),a=Je();function s(t){return t&&t.__esModule?t:{default:t}}function i(t,c,l){if(e.default.randomUUID&&!c&&!t)return e.default.randomUUID();t=t||{};const n=t.random||(t.rng||r.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,c){l=l||0;for(let u=0;u<16;++u)c[l+u]=n[u];return c}return(0,a.unsafeStringify)(n)}var o=i;return he.default=o,he}var ye={},me={},yr;function Gi(){if(yr)return me;yr=1,Object.defineProperty(me,"__esModule",{value:!0}),me.default=void 0;function e(i,o,t,c){switch(i){case 0:return o&t^~o&c;case 1:return o^t^c;case 2:return o&t^o&c^t&c;case 3:return o^t^c}}function r(i,o){return i<<o|i>>>32-o}function a(i){const o=[1518500249,1859775393,2400959708,3395469782],t=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof i=="string"){const u=unescape(encodeURIComponent(i));i=[];for(let f=0;f<u.length;++f)i.push(u.charCodeAt(f))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);const c=i.length/4+2,l=Math.ceil(c/16),n=new Array(l);for(let u=0;u<l;++u){const f=new Uint32Array(16);for(let g=0;g<16;++g)f[g]=i[u*64+g*4]<<24|i[u*64+g*4+1]<<16|i[u*64+g*4+2]<<8|i[u*64+g*4+3];n[u]=f}n[l-1][14]=(i.length-1)*8/Math.pow(2,32),n[l-1][14]=Math.floor(n[l-1][14]),n[l-1][15]=(i.length-1)*8&4294967295;for(let u=0;u<l;++u){const f=new Uint32Array(80);for(let h=0;h<16;++h)f[h]=n[u][h];for(let h=16;h<80;++h)f[h]=r(f[h-3]^f[h-8]^f[h-14]^f[h-16],1);let g=t[0],d=t[1],p=t[2],_=t[3],v=t[4];for(let h=0;h<80;++h){const y=Math.floor(h/20),m=r(g,5)+e(y,d,p,_)+v+o[y]+f[h]>>>0;v=_,_=p,p=r(d,30)>>>0,d=g,g=m}t[0]=t[0]+g>>>0,t[1]=t[1]+d>>>0,t[2]=t[2]+p>>>0,t[3]=t[3]+_>>>0,t[4]=t[4]+v>>>0}return[t[0]>>24&255,t[0]>>16&255,t[0]>>8&255,t[0]&255,t[1]>>24&255,t[1]>>16&255,t[1]>>8&255,t[1]&255,t[2]>>24&255,t[2]>>16&255,t[2]>>8&255,t[2]&255,t[3]>>24&255,t[3]>>16&255,t[3]>>8&255,t[3]&255,t[4]>>24&255,t[4]>>16&255,t[4]>>8&255,t[4]&255]}var s=a;return me.default=s,me}var mr;function Vi(){if(mr)return ye;mr=1,Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=void 0;var e=a(Xn()),r=a(Gi());function a(o){return o&&o.__esModule?o:{default:o}}var i=(0,e.default)("v5",80,r.default);return ye.default=i,ye}var be={},br;function zi(){if(br)return be;br=1,Object.defineProperty(be,"__esModule",{value:!0}),be.default=void 0;var e="00000000-0000-0000-0000-000000000000";return be.default=e,be}var we={},wr;function Ki(){if(wr)return we;wr=1,Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0;var e=r(We());function r(i){return i&&i.__esModule?i:{default:i}}function a(i){if(!(0,e.default)(i))throw TypeError("Invalid UUID");return parseInt(i.slice(14,15),16)}var s=a;return we.default=s,we}var Er;function Hi(){return Er||(Er=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"v5",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return t.default}});var r=u(ki()),a=u(Ui()),s=u(Ni()),i=u(Vi()),o=u(zi()),t=u(Ki()),c=u(We()),l=u(Je()),n=u(Qn());function u(f){return f&&f.__esModule?f:{default:f}}})(ut)),ut}var Or;function Wi(){if(Or)return le;Or=1,Object.defineProperty(le,"__esModule",{value:!0}),le.createAdfRendererIframeProps=void 0;const e=Hi(),r=async(a,s)=>{const i=await Ti(()=>import("./index-DzmuzxgH.js").then(u=>u.i),__vite__mapDeps([0,1]),import.meta.url),o=i.default||i,t=new URL(document.referrer).origin,c=`${t}/forge-apps/adf-renderer`,l=s||`forge-adf-renderer-iframe-${(0,e.v4)()}`,n=()=>{var u,f;const g=document.getElementById(l),d={type:"adf-document",document:(u=a.extension.macro)===null||u===void 0?void 0:u.body,timestamp:Date.now(),source:"forge-adf-renderer",localId:a.localId};o.iframeResizer({heightCalculationMethod:"taggedElement",widthCalculationMethod:"bodyScroll",initCallback:p=>{var _;(_=p?.iFrameResizer)===null||_===void 0||_.resize()}},g||""),(f=g?.contentWindow)===null||f===void 0||f.postMessage(d,t)};return setTimeout(()=>{document.documentElement.style.height="auto",document.body.style.height="auto"},200),{id:l,src:c,onLoad:n}};return le.createAdfRendererIframeProps=r,le}var Rr;function Yn(){if(Rr)return X;Rr=1,Object.defineProperty(X,"__esModule",{value:!0}),X.view=void 0;const e=yi(),r=mi(),a=bi(),s=wi(),i=Ei(),o=ji(),t=Ci(),c=qi(),l=Mi(),n=Wi();return X.view={submit:e.submit,close:r.close,open:a.open,refresh:s.refresh,createHistory:i.createHistory,getContext:o.getContext,theme:c.theme,changeWindowTitle:t.changeWindowTitle,emitReadyEvent:l.emitReadyEvent,createAdfRendererIframeProps:n.createAdfRendererIframeProps},X}var Pr;function It(){return Pr||(Pr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),P.__exportStar(Yn(),e)})(rt)),rt}var lt={},Ee={},Sr;function Ji(){if(Sr)return Ee;Sr=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.router=void 0;const r=(0,w().getCallBridge)(),a=async t=>{if(!t?.target)throw new Error("target is required for getUrl");const c=await r("getUrl",t);if(!c)throw new Error("Failed to get URL");try{return new URL(c)}catch(l){throw new Error(`Failed to parse URL: ${c} (${l})`)}},s=t=>{if(typeof t=="string")return r("navigate",{url:t,type:"same-tab"});if(!t?.target)throw new Error("target is required for navigation");return r("navigate",{...t,type:"same-tab"})},i=t=>{if(typeof t=="string")return r("navigate",{url:t,type:"new-tab"});if(!t?.target)throw new Error("target is required for navigation");return r("navigate",{...t,type:"new-tab"})},o=async()=>r("reload");return Ee.router={getUrl:a,navigate:s,open:i,reload:o},Ee}var Ir;function Qi(){return Ir||(Ir=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),P.__exportStar(Ji(),e)})(lt)),lt}var ct={},Oe={},jr;function Xi(){if(jr)return Oe;jr=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.Modal=void 0;const e=w(),r=R(),a=(0,e.getCallBridge)(),s=()=>{};class i{constructor(t){var c,l;this.resource=t?.resource||null,this.onClose=t?.onClose||s,this.size=t?.size||"medium",this.context=t?.context||{},this.closeOnEscape=(c=t?.closeOnEscape)!==null&&c!==void 0?c:!0,this.closeOnOverlayClick=(l=t?.closeOnOverlayClick)!==null&&l!==void 0?l:!0}async open(){try{if(await a("openModal",{resource:this.resource,onClose:this.onClose,size:this.size,context:this.context,closeOnEscape:this.closeOnEscape,closeOnOverlayClick:this.closeOnOverlayClick})===!1)throw new r.BridgeAPIError("Unable to open modal.")}catch{throw new r.BridgeAPIError("Unable to open modal.")}}}return Oe.Modal=i,Oe}var Cr;function Yi(){return Cr||(Cr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),P.__exportStar(Xi(),e)})(ct)),ct}var S={},T={},qr;function $i(){if(qr)return T;qr=1,Object.defineProperty(T,"__esModule",{value:!0}),T.productFetchApi=T.remoteFetchApi=void 0;const e=Hn(),r=async t=>{const c={};for(const[l,n]of t.entries())if(l==="file"){const u=n.name,f=n.type;c.file=await(0,e.blobToBase64)(n),c.__fileName=u,c.__fileType=f}else c[l]=n;return JSON.stringify(c)},a=t=>{if(!t)return t;if("signal"in t){const{signal:c,...l}=t;return console.error("Signal is not supported in @forge/bridge and was removed from fetch options. Please use the fetch method from @forge/api for signal support."),l}return t},s=async t=>{const c=t?.body instanceof FormData,l=c?await r(t?.body):t?.body,n=new Request("",{body:l,method:t?.method,headers:t?.headers}),u=Object.fromEntries(n.headers.entries());return{body:n.method!=="GET"?await n.text():null,headers:new Headers(u),isMultipartFormData:c}},i=t=>{const c=async(l,n)=>{const u=a(n),{body:f,headers:g,isMultipartFormData:d}=await s(u),p={remoteKey:l,fetchRequestInit:{...u,body:f,headers:[...g.entries()]},isMultipartFormData:d},{body:_,headers:v,statusText:h,status:y,isAttachment:m}=await t("fetchRemote",p),O=m?(0,e.base64ToBlob)(_,v["content-type"]):_;return new Response(O||null,{headers:v,status:y,statusText:h})};return{requestRemote:(l,n)=>c(l,n)}};T.remoteFetchApi=i;const o=t=>{const c=async(l,n,u)=>{const f=a(u),{body:g,headers:d,isMultipartFormData:p}=await s(f);d.has("X-Atlassian-Token")||d.set("X-Atlassian-Token","no-check");const _={product:l,restPath:n,fetchRequestInit:{...f,body:g,headers:[...d.entries()]},isMultipartFormData:p},{body:v,headers:h,statusText:y,status:m,isAttachment:O}=await t("fetchProduct",_),E=O?(0,e.base64ToBlob)(v,h["content-type"]):v;return new Response(E||null,{headers:h,status:m,statusText:y})};return{requestConfluence:(l,n)=>c("confluence",l,n),requestJira:(l,n)=>c("jira",l,n),requestBitbucket:(l,n)=>c("bitbucket",l,n)}};return T.productFetchApi=o,T}var Ar;function Zi(){if(Ar)return S;Ar=1;var e;Object.defineProperty(S,"__esModule",{value:!0}),S.requestRemote=S.requestBitbucket=S.requestJira=S.requestConfluence=void 0;const r=w(),a=$i();return e=(0,a.productFetchApi)((0,r.getCallBridge)()),S.requestConfluence=e.requestConfluence,S.requestJira=e.requestJira,S.requestBitbucket=e.requestBitbucket,S.requestRemote=(0,a.remoteFetchApi)((0,r.getCallBridge)()).requestRemote,S}var dt={},Re={},Mr;function eo(){if(Mr)return Re;Mr=1,Object.defineProperty(Re,"__esModule",{value:!0}),Re.showFlag=void 0;const e=w(),r=R(),a=(0,e.getCallBridge)(),s=i=>{var o;if(!i.id)throw new r.BridgeAPIError('"id" must be defined in flag options');const t=a("showFlag",{...i,type:(o=i.type)!==null&&o!==void 0?o:"info"});return{close:async()=>(await t,a("closeFlag",{id:i.id}))}};return Re.showFlag=s,Re}var Dr;function to(){return Dr||(Dr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.showFlag=void 0;var r=eo();Object.defineProperty(e,"showFlag",{enumerable:!0,get:function(){return r.showFlag}})})(dt)),dt}var ft={},Br;function ro(){return Br||(Br=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),P.__exportStar(Wn(),e)})(ft)),ft}var _t={},Pe={},Tr;function no(){if(Tr)return Pe;Tr=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.realtime=void 0;const r=(0,w().getCallBridge)(),a=(t,c,l)=>r("publishRealtimeChannel",{channelName:t,eventPayload:c,options:l}),s=(t,c,l)=>r("subscribeRealtimeChannel",{channelName:t,onEvent:c,options:l}),i=(t,c,l)=>r("publishRealtimeChannel",{channelName:t,eventPayload:c,options:l,isGlobal:!0}),o=(t,c,l)=>r("subscribeRealtimeChannel",{channelName:t,onEvent:c,options:l,isGlobal:!0});return Pe.realtime={publish:a,subscribe:s,publishGlobal:i,subscribeGlobal:o},Pe}var vt={},Fr;function io(){return Fr||(Fr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Bitbucket=e.Confluence=e.Jira=void 0,(function(r){r.Board="board",r.Issue="issue",r.Project="project"})(e.Jira||(e.Jira={})),(function(r){r.Content="content",r.Space="space"})(e.Confluence||(e.Confluence={})),(function(r){r.Repository="repository",r.PullRequest="pullRequest"})(e.Bitbucket||(e.Bitbucket={}))})(vt)),vt}var kr;function oo(){return kr||(kr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Bitbucket=e.Confluence=e.Jira=e.realtime=void 0;var r=no();Object.defineProperty(e,"realtime",{enumerable:!0,get:function(){return r.realtime}});var a=io();Object.defineProperty(e,"Jira",{enumerable:!0,get:function(){return a.Jira}}),Object.defineProperty(e,"Confluence",{enumerable:!0,get:function(){return a.Confluence}}),Object.defineProperty(e,"Bitbucket",{enumerable:!0,get:function(){return a.Bitbucket}})})(_t)),_t}var gt={},Se={},ht={},xr;function ao(){return xr||(xr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.open=e.OPEN_ROVO_BRIDGE_ERROR_MESSAGE=void 0;const r=w(),a=R(),s=30,i=(0,r.getCallBridge)();e.OPEN_ROVO_BRIDGE_ERROR_MESSAGE="Unable to open Rovo Chat due to usage in an unsupported product. Only Confluence, Jira and some Jira Service Management modules are supported at this point. See https://developer.atlassian.com/platform/forge/apis-reference/ui-api-bridge/rovo/";const o=c=>{switch(c.type){case"forge":return{agentName:c.agentName,agentKey:c.agentKey,prompt:c.prompt};case"atlassian":return{agentName:c.agentName,prompt:c.prompt};default:return{prompt:c.prompt}}},t=async c=>{if(c.type==="forge"){if(c.agentName.length>s)throw new Error("rovo agent name too long");if(c.agentKey.length>s)throw new Error("rovo agent key too long")}const l=o(c);if(await i("openRovo",l)===!1)throw new a.BridgeAPIError(e.OPEN_ROVO_BRIDGE_ERROR_MESSAGE)};e.open=t})(ht)),ht}var Ur;function so(){if(Ur)return Se;Ur=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.rovo=void 0;const e=ao();return Se.rovo={open:e.open},Se}var Lr;function uo(){return Lr||(Lr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),P.__exportStar(so(),e)})(gt)),gt}var j={},Nr;function lo(){if(Nr)return j;Nr=1,Object.defineProperty(j,"__esModule",{value:!0}),j.createTranslationFunction=j.getTranslations=j.resetTranslationsCache=void 0;const e=Kn(),r=It(),a={getI18nInfoConfig:async()=>{const c=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${e.I18N_INFO_FILE_NAME}`);if(!c.ok)throw new Error("Failed to get i18n info config: "+c.statusText);return(await c.json()).config},getTranslationResource:async c=>{const l=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${c}.json`);if(!l.ok)throw new Error(`Failed to get translation resource for locale: ${c}`);return l.json()}},s=new e.TranslationsGetter(a),i=()=>{s.reset()};j.resetTranslationsCache=i;const o=async(c=null,l={fallback:!0})=>{let n=c;return n||(n=(await r.view.getContext()).locale),await s.getTranslations(n,l)};j.getTranslations=o;const t=async(c=null)=>{let l=c;l||(l=(await r.view.getContext()).locale);const n=new e.Translator(l,s);return await n.init(),(u,f)=>{var g,d;return(d=(g=n.translate(u))!==null&&g!==void 0?g:f)!==null&&d!==void 0?d:u}};return j.createTranslationFunction=t,j}var pt={},Ie={},Gr;function co(){if(Gr)return Ie;Gr=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.permissions=void 0;const r=(0,w().getCallBridge)(),a=async l=>r("__permission__egressGet",l),s=async l=>r("__permission__egressSet",l),i=async l=>r("__permission__egressDeleteDomain",l),o=async l=>r("__permission__egressDeleteGroup",l),t=async l=>r("__permission__remoteGet",l),c=async l=>r("__permission__remoteSet",l);return Ie.permissions={egress:{get:a,set:s,deleteDomain:i,deleteGroup:o},remote:{get:t,set:c}},Ie}var Vr;function fo(){return Vr||(Vr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),P.__exportStar(co(),e)})(pt)),pt}var yt={},mt={},bt={},je={},Ce={},zr;function $n(){return zr||(zr=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.BRIDGE_OBJECT_STORE_RESTRICTED_ENVIRONMENT_ERROR=void 0,Ce.BRIDGE_OBJECT_STORE_RESTRICTED_ENVIRONMENT_ERROR="Object Store bridge methods are restricted to Forge apps in a non-production environment. For more information please see https://developer.atlassian.com/platform/forge/cli-reference/environments/ for reference on Forge app environments."),Ce}var Kr;function Qe(){if(Kr)return je;Kr=1,Object.defineProperty(je,"__esModule",{value:!0}),je.checkRestrictedEnvironment=void 0;const e=R(),r=It(),a=$n(),s=async()=>{const{environmentType:i}=await r.view.getContext();if(i==="PRODUCTION")throw new e.BridgeAPIError(a.BRIDGE_OBJECT_STORE_RESTRICTED_ENVIRONMENT_ERROR)};return je.checkRestrictedEnvironment=s,je}var Hr;function _o(){return Hr||(Hr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.upload=e.createUploadPromises=void 0;const r=Le(),a=R(),s=Qe(),o=(0,w().getCallBridge)(),t=(u,f)=>{const g=atob(u),d=new Array(g.length);for(let _=0;_<g.length;_++)d[_]=g.charCodeAt(_);const p=new Uint8Array(d);return new Blob([p],{type:f||"application/octet-stream"})},c=async u=>{const f=u.size,g=await u.arrayBuffer(),d=await crypto.subtle.digest("SHA-256",g),p=new Uint8Array(d),_=btoa(String.fromCharCode(...p));return{length:f,checksum:_,checksumType:"SHA256"}},l=async({functionKey:u,objects:f})=>{if(!u||u.length===0)throw new a.BridgeAPIError("functionKey is required to filter and generate presigned URLs");if(!Array.isArray(f)||f.length===0)throw new a.BridgeAPIError("objects array is required and must not be empty");const g=f.map((y,m)=>{if(y instanceof Blob)return y;if(!(y&&typeof y=="object"&&"data"in y&&typeof y.data=="string"))throw new a.BridgeAPIError(`Invalid object type at index ${m}. Only Blob or Base64Object (with data string and optional mimeType) are accepted.`);try{return t(y.data,y.mimeType)}catch{throw new a.BridgeAPIError(`Invalid base64 data at index ${m}. The data string must be valid base64 encoded.`)}}),d=await Promise.all(g.map(y=>c(y))),p=await(0,r.invoke)(u,{allObjectMetadata:d});if(!p||typeof p!="object")throw new a.BridgeAPIError("Invalid response from functionKey");const _=new Map,v=new Map;return g.forEach((y,m)=>{const O=d[m];_.set(O.checksum,y),v.set(O.checksum,m)}),Object.entries(p).map(([y,m])=>{const{key:O,checksum:E}=m,C=_.get(E),G=v.get(E);return G===void 0?{promise:Promise.resolve({success:!1,key:O,error:`Index not found for checksum ${E}`}),index:-1}:C?{promise:(async()=>{try{const M=await fetch(y,{method:"PUT",body:C,headers:{"Content-Type":C.type||"application/octet-stream","Content-Length":C.size.toString()}});return{success:M.ok,key:O,status:M.status,error:M.ok?void 0:`Upload failed with status ${M.status}`}}catch(M){return{success:!1,key:O,status:503,error:M instanceof Error?M.message:"Upload failed"}}})(),index:G,objectType:C.type,objectSize:C.size}:{promise:Promise.resolve({success:!1,key:O,error:`Blob not found for checksum ${E}`}),index:G}})};e.createUploadPromises=l;const n=async({functionKey:u,objects:f})=>{await(0,s.checkRestrictedEnvironment)(),o("trackObjectStoreAction",{action:"upload"});const g=await(0,e.createUploadPromises)({functionKey:u,objects:f});return await Promise.all(g.map(p=>p.promise))};e.upload=n})(bt)),bt}var qe={},Wr;function vo(){if(Wr)return qe;Wr=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.deleteObjects=void 0;const e=Le(),r=R(),a=Qe(),i=(0,w().getCallBridge)(),o=async({functionKey:t,keys:c})=>{if(await(0,a.checkRestrictedEnvironment)(),i("trackObjectStoreAction",{action:"delete"}),!t||t.length===0)throw new r.BridgeAPIError("functionKey is required to delete objects");if(!Array.isArray(c)||c.length===0)throw new r.BridgeAPIError("keys array is required and must not be empty");await Promise.all(c.map(async l=>{await(0,e.invoke)(t,{key:l})}))};return qe.deleteObjects=o,qe}var Ae={},Jr;function go(){if(Jr)return Ae;Jr=1,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.download=void 0;const e=Le(),r=R(),a=Qe(),i=(0,w().getCallBridge)(),o=async({functionKey:t,keys:c})=>{if(await(0,a.checkRestrictedEnvironment)(),i("trackObjectStoreAction",{action:"download"}),!t||t.length===0)throw new r.BridgeAPIError("functionKey is required to filter and generate download URLs");if(!Array.isArray(c)||c.length===0)throw new r.BridgeAPIError("keys array is required and must not be empty");const l=await(0,e.invoke)(t,{keys:c});if(!l||typeof l!="object")throw new r.BridgeAPIError("Invalid response from functionKey");const n=Object.entries(l).map(async([f,g])=>{try{const d=await fetch(f,{method:"GET"});if(!d.ok)return{success:!1,key:g,status:d.status,error:`Download failed with status ${d.status}`};const p=await d.blob();return{success:!0,key:g,blob:p,status:d.status}}catch(d){return{success:!1,key:g,status:503,error:d instanceof Error?d.message:"Download failed"}}});return await Promise.all(n)};return Ae.download=o,Ae}var Me={},Qr;function ho(){if(Qr)return Me;Qr=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.getMetadata=void 0;const e=Le(),r=R(),a=Qe(),i=(0,w().getCallBridge)(),o=async({functionKey:t,keys:c})=>{if(await(0,a.checkRestrictedEnvironment)(),i("trackObjectStoreAction",{action:"getMetadata"}),!t||t.length===0)throw new r.BridgeAPIError("functionKey is required to filter and generate object metadata");if(!Array.isArray(c)||c.length===0)throw new r.BridgeAPIError("keys array is required and must not be empty");return await Promise.all(c.map(async n=>{const u=await(0,e.invoke)(t,{key:n});return!u||typeof u!="object"?{key:n,error:"Invalid response from functionKey"}:u}))};return Me.getMetadata=o,Me}var Xr;function po(){return Xr||(Xr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createUploadPromises=e.objectStore=void 0;const r=_o();Object.defineProperty(e,"createUploadPromises",{enumerable:!0,get:function(){return r.createUploadPromises}});const a=vo(),s=go(),i=ho();e.objectStore={upload:r.upload,download:s.download,getMetadata:i.getMetadata,delete:a.deleteObjects}})(mt)),mt}var Yr;function yo(){return Yr||(Yr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const r=P;r.__exportStar(po(),e),r.__exportStar($n(),e)})(yt)),yt}var wt={},De={},F={},U={},Ge={},$r;function mo(){if($r)return Ge;$r=1,Object.defineProperty(Ge,"__esModule",{value:!0});const e=A();let r=class{constructor(s){this._sdkKey=s,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,e._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(s,i){var o;if(!s)return!1;const t=(0,e._typedJsonParse)(s.data,"has_updates","EvaluationResponse");return t==null?!1:(this._source=s.source,t?.has_updates!==!0||(this._rawValues=s.data,this._lcut=t.time,this._receivedAt=s.receivedAt,this._values=t,this._bootstrapMetadata=this._extractBootstrapMetadata(s.source,t),s.source&&t.user&&this._setWarningState(i,t),e.SDKFlags.setFlags(this._sdkKey,(o=t.sdk_flags)!==null&&o!==void 0?o:{})),!0)}getWarnings(){if(this._warnings.size!==0)return Array.from(this._warnings)}getGate(s){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.feature_gates,s)}getConfig(s){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.dynamic_configs,s)}getLayer(s){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.layer_configs,s)}getParamStore(s){var i;return this._getDetailedStoreResult((i=this._values)===null||i===void 0?void 0:i.param_stores,s)}getSource(){return this._source}getExposureMapping(){var s;return(s=this._values)===null||s===void 0?void 0:s.exposures}_extractBootstrapMetadata(s,i){if(s!=="Bootstrap")return null;const o={};return i.user&&(o.user=i.user),i.sdkInfo&&(o.generatorSDKInfo=i.sdkInfo),o.lcut=i.time,o}_getDetailedStoreResult(s,i){let o=null;return s&&(o=s[i]?s[i]:s[(0,e._DJB2)(i)]),{result:o,details:this._getDetails(o==null)}}_setWarningState(s,i){var o,t;const c=e.StableID.get(this._sdkKey);if(((o=s.customIDs)===null||o===void 0?void 0:o.stableID)!==c&&(!((t=s.customIDs)===null||t===void 0)&&t.stableID||c)){this._warnings.add("StableIDMismatch");return}if("user"in i){const l=i.user;(0,e._getFullUserHash)(s)!==(0,e._getFullUserHash)(l)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if(this._source==="Uninitialized"||this._source==="NoValues")return{reason:this._source};const s={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(s.warnings=Array.from(this._warnings)),s}_getDetails(s){var i,o;const t=this.getCurrentSourceDetails();let c=t.reason;const l=(i=t.warnings)!==null&&i!==void 0?i:[];this._source==="Bootstrap"&&l.length>0&&(c=c+l[0]),c!=="Uninitialized"&&c!=="NoValues"&&(c=`${c}:${s?"Unrecognized":"Recognized"}`);const n=this._source==="Bootstrap"&&(o=this._bootstrapMetadata)!==null&&o!==void 0?o:void 0;return n&&(t.bootstrapMetadata=n),Object.assign(Object.assign({},t),{reason:c})}};return Ge.default=r,Ge}var L={},Be={},Zr;function bo(){if(Zr)return Be;Zr=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be._resolveDeltasResponse=void 0;const e=A(),r=2;function a(t,c){const l=(0,e._typedJsonParse)(c,"checksum","DeltasEvaluationResponse");if(!l)return{hadBadDeltaChecksum:!0};const n=s(t,l),u=i(n),f=(0,e._DJB2Object)({feature_gates:u.feature_gates,dynamic_configs:u.dynamic_configs,layer_configs:u.layer_configs},r);return f===l.checksumV2?JSON.stringify(u):{hadBadDeltaChecksum:!0,badChecksum:f,badMergedConfigs:u,badFullResponse:l.deltas_full_response}}Be._resolveDeltasResponse=a;function s(t,c){return Object.assign(Object.assign(Object.assign({},t),c),{feature_gates:Object.assign(Object.assign({},t.feature_gates),c.feature_gates),layer_configs:Object.assign(Object.assign({},t.layer_configs),c.layer_configs),dynamic_configs:Object.assign(Object.assign({},t.dynamic_configs),c.dynamic_configs)})}function i(t){const c=t;return o(t.deleted_gates,c.feature_gates),delete c.deleted_gates,o(t.deleted_configs,c.dynamic_configs),delete c.deleted_configs,o(t.deleted_layers,c.layer_configs),delete c.deleted_layers,c}function o(t,c){t?.forEach(l=>{delete c[l]})}return Be}var en;function Zn(){if(en)return L;en=1;var e=L&&L.__awaiter||function(i,o,t,c){function l(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function f(p){try{d(c.next(p))}catch(_){u(_)}}function g(p){try{d(c.throw(p))}catch(_){u(_)}}function d(p){p.done?n(p.value):l(p.value).then(f,g)}d((c=c.apply(i,o||[])).next())})};Object.defineProperty(L,"__esModule",{value:!0});const r=A(),a=bo();class s extends r.NetworkCore{constructor(o,t){super(o,t);const c=o?.networkConfig;this._option=o,this._initializeUrlConfig=new r.UrlConfiguration(r.Endpoint._initialize,c?.initializeUrl,c?.api,c?.initializeFallbackUrls)}fetchEvaluations(o,t,c,l,n){return e(this,void 0,void 0,function*(){var u,f,g,d,p,_;const v=t?(0,r._typedJsonParse)(t,"has_updates","InitializeResponse"):null;let h={user:l,hash:(g=(f=(u=this._option)===null||u===void 0?void 0:u.networkConfig)===null||f===void 0?void 0:f.initializeHashAlgorithm)!==null&&g!==void 0?g:"djb2",deltasResponseRequested:!1,full_checksum:null};if(v?.has_updates){const y=v?.hash_used!==((_=(p=(d=this._option)===null||d===void 0?void 0:d.networkConfig)===null||p===void 0?void 0:p.initializeHashAlgorithm)!==null&&_!==void 0?_:"djb2");h=Object.assign(Object.assign({},h),{sinceTime:n&&!y?v.time:0,previousDerivedFields:"derived_fields"in v&&n?v.derived_fields:{},deltasResponseRequested:!0,full_checksum:v.full_checksum,partialUserMatchSinceTime:y?0:v.time})}return this._fetchEvaluations(o,v,h,c)})}_fetchEvaluations(o,t,c,l){return e(this,void 0,void 0,function*(){var n,u;const f=yield this.post({sdkKey:o,urlConfig:this._initializeUrlConfig,data:c,retries:2,isStatsigEncodable:!0,priority:l});if(f?.code===204)return'{"has_updates": false}';if(f?.code!==200)return(n=f?.body)!==null&&n!==void 0?n:null;if(t?.has_updates!==!0||((u=f.body)===null||u===void 0?void 0:u.includes('"is_delta":true'))!==!0||c.deltasResponseRequested!==!0)return f.body;const g=(0,a._resolveDeltasResponse)(t,f.body);return typeof g=="string"?g:this._fetchEvaluations(o,t,Object.assign(Object.assign(Object.assign({},c),g),{deltasResponseRequested:!1}),l)})}}return L.default=s,L}var Te={},tn;function wo(){if(tn)return Te;tn=1,Object.defineProperty(Te,"__esModule",{value:!0}),Te._makeParamStoreGetter=void 0;const e=A(),r={disableExposureLog:!0};function a(u){return u==null||u.disableExposureLog===!1}function s(u,f){return f!=null&&!(0,e._isTypeMatch)(u,f)}function i(u,f){return u.value}function o(u,f,g){return u.getFeatureGate(f.gate_name,a(g)?void 0:r).value?f.pass_value:f.fail_value}function t(u,f,g,d){const _=u.getDynamicConfig(f.config_name,a(d)?void 0:r).get(f.param_name);return s(_,g)?g:_}function c(u,f,g,d){const _=u.getExperiment(f.experiment_name,a(d)?void 0:r).get(f.param_name);return s(_,g)?g:_}function l(u,f,g,d){const _=u.getLayer(f.layer_name,a(d)?void 0:r).get(f.param_name);return s(_,g)?g:_}function n(u,f,g){return(d,p)=>{if(f==null)return p;const _=f[d];if(_==null||p!=null&&(0,e._typeOf)(p)!==_.param_type)return p;switch(_.ref_type){case"static":return i(_);case"gate":return o(u,_,g);case"dynamic_config":return t(u,_,p,g);case"experiment":return c(u,_,p,g);case"layer":return l(u,_,p,g);default:return p}}}return Te._makeParamStoreGetter=n,Te}var k={},rn;function Eo(){if(rn)return k;rn=1;var e=k&&k.__awaiter||function(i,o,t,c){function l(n){return n instanceof t?n:new t(function(u){u(n)})}return new(t||(t=Promise))(function(n,u){function f(p){try{d(c.next(p))}catch(_){u(_)}}function g(p){try{d(c.throw(p))}catch(_){u(_)}}function d(p){p.done?n(p.value):l(p.value).then(f,g)}d((c=c.apply(i,o||[])).next())})};Object.defineProperty(k,"__esModule",{value:!0}),k.StatsigEvaluationsDataAdapter=void 0;const r=A(),a=Zn();let s=class extends r.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(o,t,c){super.attach(o,t,c),c!==null&&c instanceof a.default?this._network=c:this._network=new a.default(t??{})}getDataAsync(o,t,c){return this._getDataAsyncImpl(o,(0,r._normalizeUser)(t,this._options),c)}prefetchData(o,t){return this._prefetchDataImpl(o,t)}setData(o){const t=(0,r._typedJsonParse)(o,"has_updates","data");t&&"user"in t?super.setData(o,t.user):r.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(o,t){super.setData(o,t)}_fetchFromNetwork(o,t,c,l){return e(this,void 0,void 0,function*(){var n;const u=yield(n=this._network)===null||n===void 0?void 0:n.fetchEvaluations(this._getSdkKey(),o,c?.priority,t,l);return u??null})}_getCacheKey(o){var t;const c=(0,r._getStorageKey)(this._getSdkKey(),o,(t=this._options)===null||t===void 0?void 0:t.customUserCacheKeyFunc);return`${r.DataAdapterCachePrefix}.${this._cacheSuffix}.${c}`}_isCachedResultValidFor204(o,t){return o.fullUserHash!=null&&o.fullUserHash===(0,r._getFullUserHash)(t)}};return k.StatsigEvaluationsDataAdapter=s,k}var nn;function Oo(){if(nn)return U;nn=1;var e=U&&U.__awaiter||function(c,l,n,u){function f(g){return g instanceof n?g:new n(function(d){d(g)})}return new(n||(n=Promise))(function(g,d){function p(h){try{v(u.next(h))}catch(y){d(y)}}function _(h){try{v(u.throw(h))}catch(y){d(y)}}function v(h){h.done?g(h.value):f(h.value).then(p,_)}v((u=u.apply(c,l||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});const r=A(),a=mo(),s=Zn(),i=wo(),o=Eo();let t=class Pt extends r.StatsigClientBase{static instance(l){const n=(0,r._getStatsigGlobal)().instance(l);return n instanceof Pt?n:(r.Log.warn((0,r._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new Pt(l??"",{}))}constructor(l,n,u=null){var f,g;r.SDKType._setClientType(l,"javascript-client");const d=new s.default(u,_=>{this.$emt(_)});super(l,(f=u?.dataAdapter)!==null&&f!==void 0?f:new o.StatsigEvaluationsDataAdapter,d,u),this.getFeatureGate=this._memoize(r.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(r.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(r.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getLayer=this._memoize(r.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(r.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new a.default(l),this._network=d,this._user=this._configureUser(n,u),this._sdkInstanceID=(0,r.getUUID)();const p=(g=u?.plugins)!==null&&g!==void 0?g:[];for(const _ of p)_.bind(this)}initializeSync(l){var n;return this.loadingStatus!=="Uninitialized"?(0,r.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...(n=this._store.getWarnings())!==null&&n!==void 0?n:[]]):(this._logger.start(),this.updateUserSync(this._user,l))}initializeAsync(l){return e(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(l),this._initializePromise)})}updateUserSync(l,n){const u=performance.now();try{return this._updateUserSyncImpl(l,n,u)}catch(f){const g=f instanceof Error?f:new Error(String(f));return this._createErrorUpdateDetails(g,u)}}_updateUserSyncImpl(l,n,u){var f;const g=[...(f=this._store.getWarnings())!==null&&f!==void 0?f:[]];this._resetForUser(l);const d=this.dataAdapter.getDataSync(this._user);d==null&&g.push("NoCachedValues"),this._store.setValues(d,this._user),this._finalizeUpdate(d);const p=n?.disableBackgroundCacheRefresh;return p===!0||p==null&&d?.source==="Bootstrap"?(0,r.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),g):(this._runPostUpdate(d??null,this._user),(0,r.createUpdateDetails)(!0,this._store.getSource(),performance.now()-u,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),g))}updateUserAsync(l,n){return e(this,void 0,void 0,function*(){const u=performance.now();try{return yield this._updateUserAsyncImpl(l,n)}catch(f){const g=f instanceof Error?f:new Error(String(f));return this._createErrorUpdateDetails(g,u)}})}_updateUserAsyncImpl(l,n){return e(this,void 0,void 0,function*(){this._resetForUser(l);const u=this._user;r.Diagnostics._markInitOverallStart(this._sdkKey);let f=this.dataAdapter.getDataSync(u);if(this._store.setValues(f,this._user),this._setStatus("Loading",f),f=yield this.dataAdapter.getDataAsync(f,u,n),u!==this._user)return(0,r.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let g=!1;f!=null&&(r.Diagnostics._markInitProcessStart(this._sdkKey),g=this._store.setValues(f,this._user),r.Diagnostics._markInitProcessEnd(this._sdkKey,{success:g})),this._finalizeUpdate(f),g||(this._errorBoundary.attachErrorIfNoneExists(r.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),r.Diagnostics._markInitOverallEnd(this._sdkKey,g,this._store.getCurrentSourceDetails());const d=r.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,r.createUpdateDetails)(g,this._store.getSource(),d,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:r.StatsigSession.get(this._sdkKey),stableID:r.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(l,n){return this.getFeatureGate(l,n).value}logEvent(l,n,u){const f=typeof l=="string"?{eventName:l,value:n,metadata:u}:l;this.$emt({name:"log_event_called",event:f}),this._logger.enqueue(Object.assign(Object.assign({},f),{user:this._user,time:Date.now()}))}_primeReadyRipcord(){this.$on("error",()=>{this.loadingStatus==="Loading"&&this._finalizeUpdate(null)})}_initializeAsyncImpl(l){return e(this,void 0,void 0,function*(){return r.Storage.isReady()||(yield r.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,l)})}_createErrorUpdateDetails(l,n){var u;return(0,r.createUpdateDetails)(!1,this._store.getSource(),performance.now()-n,l,null,[...(u=this._store.getWarnings())!==null&&u!==void 0?u:[]])}_finalizeUpdate(l){this._store.finalize(),this._setStatus("Ready",l)}_runPostUpdate(l,n){this.dataAdapter.getDataAsync(l,n,{priority:"low"}).catch(u=>{r.Log.error("An error occurred after update.",u)})}_resetForUser(l){this._logger.reset(),this._store.reset(),this._user=this._configureUser(l,this._options)}_configureUser(l,n){var u;const f=(0,r._normalizeUser)(l,n),g=(u=f.customIDs)===null||u===void 0?void 0:u.stableID;return g&&r.StableID.setOverride(g,this._sdkKey),f}_getFeatureGateImpl(l,n){var u,f;const{result:g,details:d}=this._store.getGate(l),p=(0,r._makeFeatureGate)(l,d,g),_=(f=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getGateOverride)===null||f===void 0?void 0:f.call(u,p,this._user,n),v=_??p;return this._enqueueExposure(l,(0,r._createGateExposure)(this._user,v,this._store.getExposureMapping()),n),this.$emt({name:"gate_evaluation",gate:v}),v}_getDynamicConfigImpl(l,n){var u,f;const{result:g,details:d}=this._store.getConfig(l),p=(0,r._makeDynamicConfig)(l,d,g),_=(f=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getDynamicConfigOverride)===null||f===void 0?void 0:f.call(u,p,this._user,n),v=_??p;return this._enqueueExposure(l,(0,r._createConfigExposure)(this._user,v,this._store.getExposureMapping()),n),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:v}),v}_getExperimentImpl(l,n){var u,f,g,d;const{result:p,details:_}=this._store.getConfig(l),v=(0,r._makeExperiment)(l,_,p);v.__evaluation!=null&&(v.__evaluation.secondary_exposures=(0,r._mapExposures)((f=(u=v.__evaluation)===null||u===void 0?void 0:u.secondary_exposures)!==null&&f!==void 0?f:[],this._store.getExposureMapping()));const h=(d=(g=this.overrideAdapter)===null||g===void 0?void 0:g.getExperimentOverride)===null||d===void 0?void 0:d.call(g,v,this._user,n),y=h??v;return this._enqueueExposure(l,(0,r._createConfigExposure)(this._user,y,this._store.getExposureMapping()),n),this.$emt({name:"experiment_evaluation",experiment:y}),y}_getLayerImpl(l,n){var u,f,g;const{result:d,details:p}=this._store.getLayer(l),_=(0,r._makeLayer)(l,p,d),v=(f=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getLayerOverride)===null||f===void 0?void 0:f.call(u,_,this._user,n);n?.disableExposureLog&&this._logger.incrementNonExposureCount(l);const h=(0,r._mergeOverride)(_,v,(g=v?.__value)!==null&&g!==void 0?g:_.__value,y=>{n?.disableExposureLog||this._enqueueExposure(l,(0,r._createLayerParameterExposure)(this._user,h,y,this._store.getExposureMapping()),n)});return this.$emt({name:"layer_evaluation",layer:h}),h}_getParameterStoreImpl(l,n){var u,f;const{result:g,details:d}=this._store.getParamStore(l);this._logger.incrementNonExposureCount(l);const p={name:l,details:d,__configuration:g,get:(0,i._makeParamStoreGetter)(this,g,n)},_=(f=(u=this.overrideAdapter)===null||u===void 0?void 0:u.getParamStoreOverride)===null||f===void 0?void 0:f.call(u,p,n);return _!=null&&(p.__configuration=_.config,p.details=_.details,p.get=(0,i._makeParamStoreGetter)(this,_.config,n)),p}};return U.default=t,U}var on;function Ro(){return on||(on=1,(function(e){var r=F&&F.__createBinding||(Object.create?(function(t,c,l,n){n===void 0&&(n=l);var u=Object.getOwnPropertyDescriptor(c,l);(!u||("get"in u?!c.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(t,n,u)}):(function(t,c,l,n){n===void 0&&(n=l),t[n]=c[l]})),a=F&&F.__exportStar||function(t,c){for(var l in t)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&r(c,t,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.StatsigClient=void 0;const s=A(),i=Oo();e.StatsigClient=i.default,a(A(),e);const o=Object.assign((0,s._getStatsigGlobal)(),{StatsigClient:i.default});e.default=o})(F)),F}var Fe={},ke={},an;function Po(){if(an)return ke;an=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.initFeatureFlags=void 0;const e=w(),r=R(),a=He(),s=500,i=1e3*25,o=(0,e.getCallBridge)(),t=l=>{if(!l||!l.user)throw new r.BridgeAPIError("Missing required parameters. Parameter user is required in the payload.");if(Object.values(l).some(n=>typeof n=="function"))throw new r.BridgeAPIError("Passing functions as part of the payload is not supported!")},c=l=>(t(l),o("initFeatureFlags",{user:l.user}));return ke.initFeatureFlags=(0,a.withRateLimiter)(c,s,i,`Feature flags initialisation calls are rate limited at ${s}req/${i/1e3}s`),ke}var sn;function So(){if(sn)return Fe;sn=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.ForgeDataAdapter=void 0;const e=Po();class r{constructor(){this.options=null,this.environment=void 0,this.cache=null}async getDataAsync(s,i,o){var t;if(s)return s;this.environment=((t=this.options)===null||t===void 0?void 0:t.environment)||{tier:"development"};const c={...i,statsigEnvironment:this.environment},l=await(0,e.initFeatureFlags)({user:c}),n={source:"Network",data:JSON.stringify(l),receivedAt:Date.now(),stableID:null,fullUserHash:null};return this.cache=n,n}getDataSync(s){return this.cache}async attach(s,i,o){this.options=i}async prefetchData(){}async setData(s){}async setDataLegacy(s){}async shutdown(){this.options=null,this.cache=null,this.environment=void 0}}return Fe.ForgeDataAdapter=r,Fe}var Et={},un;function ei(){return un||(un=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FeatureFlagEventType=e.ExtensionEnvironment=void 0,(function(a){a.DEVELOPMENT="DEVELOPMENT",a.STAGING="STAGING",a.PRODUCTION="PRODUCTION"})(e.ExtensionEnvironment||(e.ExtensionEnvironment={}));var r;(function(a){a.USER_ACCESS="USER_ACCESS"})(r||(r={})),(function(a){a.CHECKFLAG="checkFlag"})(e.FeatureFlagEventType||(e.FeatureFlagEventType={}))})(Et)),Et}var xe={},ln;function Io(){if(ln)return xe;ln=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.trackFeatureFlagEvent=void 0;const e=w(),r=R(),a=ei(),s=He(),i=500,o=1e3*25,t=(0,e.getCallBridge)(),c=n=>{if(!n||!n.type||!n.properties)throw new r.BridgeAPIError("Missing required parameters. Parameter type, and properties are required in the payload.");if(!(n.type.toUpperCase()in a.FeatureFlagEventType))throw new r.BridgeAPIError("Event type is not supported");if(Object.values(n).some(u=>typeof u=="function"))throw new r.BridgeAPIError("Passing functions as part of the payload is not supported!")},l=n=>(c(n),t("trackFeatureFlagEvent",n));return xe.trackFeatureFlagEvent=(0,s.withRateLimiter)(l,i,o,`Feature flags calls are rate limited at ${i}req/${o/1e3}s`),xe}var cn;function jo(){if(cn)return De;cn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.ForgeFeatureFlags=void 0;const e=Ro(),r=So(),a=ei(),s=Io();class i{constructor(){this.initialized=!1,this.client=null,this.dataAdapter=null,this.eventProps={},this.CLIENT_KEY="client-forge-internal-key"}async initialize(t,c={}){var l;if(this.isInitialized())return;this.dataAdapter=new r.ForgeDataAdapter;const n={environment:{tier:c.environment||"development"},disableEvaluationMemoization:!1,loggingEnabled:e.LoggingEnabledOption.disabled,logLevel:e.LogLevel.None,dataAdapter:this.dataAdapter};this.eventProps.environment=(l=n.environment)===null||l===void 0?void 0:l.tier,this.client=new e.StatsigClient(this.CLIENT_KEY,this.convertUser(t),n),await this.client.initializeAsync(),this.initialized=!0}checkFlag(t){if(!this.isInitialized()||!this.client)throw this.sendCheckFlagEvent(t,!1),new Error("ForgeFeatureFlags not initialized. Call initialize() first.");return this.sendCheckFlagEvent(t,!0),this.client.checkGate(t,{disableExposureLog:!0})}async shutdown(){!this.isInitialized()||!this.client||(await this.client.shutdown(),this.dataAdapter&&await this.dataAdapter.shutdown(),this.initialized=!1)}isInitialized(){return this.initialized}convertUser(t){return{userID:t.userId,custom:{...t.custom||{},...t.attributes||{}},customIDs:t.identifiers||{}}}sendCheckFlagEvent(t,c){const l={type:a.FeatureFlagEventType.CHECKFLAG,properties:{...this.eventProps,environment:this.eventProps.environment||"development",name:t,success:c}};(0,s.trackFeatureFlagEvent)(l)}}return De.ForgeFeatureFlags=i,De}var dn;function Co(){return dn||(dn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ForgeFeatureFlags=void 0;var r=jo();Object.defineProperty(e,"ForgeFeatureFlags",{enumerable:!0,get:function(){return r.ForgeFeatureFlags}})})(wt)),wt}var fn;function qo(){return fn||(fn=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.i18n=e.NavigationTarget=void 0;const r=P;var a=_i();Object.defineProperty(e,"NavigationTarget",{enumerable:!0,get:function(){return a.NavigationTarget}}),r.__exportStar(Le(),e),r.__exportStar(pi(),e),r.__exportStar(It(),e),r.__exportStar(Qi(),e),r.__exportStar(Yi(),e),r.__exportStar(Zi(),e),r.__exportStar(to(),e),r.__exportStar(ro(),e),r.__exportStar(oo(),e),r.__exportStar(uo(),e),e.i18n=r.__importStar(lo()),r.__exportStar(fo(),e),r.__exportStar(yo(),e),r.__exportStar(Co(),e)})(Ye)),Ye}var ti=qo();const Ao=()=>{const[e,r]=Ue.useState(null),[a,s]=Ue.useState(!1),[i,o]=Ue.useState(null),[t,c]=Ue.useState(null),l=async n=>{s(!0),o(null),r(null),c(n);try{const u=await ti.invoke(n);r(u||[]),o(null)}catch(u){const f=u instanceof Error?u.message:"Unknown error occurred";o(f),r(null)}finally{s(!1)}};return b.jsxs("div",{style:{padding:"20px",fontFamily:"Arial, sans-serif",maxWidth:"1200px",margin:"0 auto"},children:[b.jsx("h1",{style:{color:"#0052CC",marginBottom:"30px"},children:" Forge SQL ORM Query Demo"}),b.jsxs("div",{style:{padding:"20px",backgroundColor:"#F4F5F7",borderRadius:"8px",marginBottom:"30px"},children:[b.jsx("h3",{style:{color:"#172B4D",marginBottom:"15px"},children:"Query Types:"}),b.jsxs("ul",{style:{color:"#6B778C",lineHeight:"1.6"},children:[b.jsxs("li",{children:[b.jsx("strong",{children:"Timeout Error:"})," Executes a query with SLEEP(10) to test timeout behavior"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"OOM Error:"})," Executes a complex query with subquery that may cause Out of Memory"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Optimized Query:"})," Uses cached permissions for better performance"]}),b.jsxs("li",{children:[b.jsx("strong",{children:"Cached Query:"})," Uses cached permissions with optimized query structure"]})]})]}),b.jsxs("div",{style:{marginBottom:"40px",padding:"20px",border:"1px solid #ddd",borderRadius:"8px"},children:[b.jsx("h2",{style:{color:"#172B4D",marginBottom:"20px"},children:"Execute Queries"}),b.jsx("p",{style:{color:"#6B778C",marginBottom:"20px"},children:"Click on a button to execute the corresponding query and see the results or errors."}),b.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[b.jsx("button",{onClick:()=>l("getTimeOutError"),disabled:a,style:{padding:"15px 24px",backgroundColor:t==="getTimeOutError"?"#FF8B00":"#FF5630",color:"white",border:"none",borderRadius:"4px",cursor:a?"not-allowed":"pointer",opacity:a&&t!=="getTimeOutError"?.6:1,fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},children:a&&t==="getTimeOutError"?"Loading...":" Timeout Error"}),b.jsx("button",{onClick:()=>l("getOOMError"),disabled:a,style:{padding:"15px 24px",backgroundColor:t==="getOOMError"?"#C43E37":"#FF5630",color:"white",border:"none",borderRadius:"4px",cursor:a?"not-allowed":"pointer",opacity:a&&t!=="getOOMError"?.6:1,fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},children:a&&t==="getOOMError"?"Loading...":" OOM Error"}),b.jsx("button",{onClick:()=>l("getQueryResult"),disabled:a,style:{padding:"15px 24px",backgroundColor:t==="getQueryResult"?"#36B37E":"#0052CC",color:"white",border:"none",borderRadius:"4px",cursor:a?"not-allowed":"pointer",opacity:a&&t!=="getQueryResult"?.6:1,fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},children:a&&t==="getQueryResult"?"Loading...":" Optimized Query"}),b.jsx("button",{onClick:()=>l("getQueryResultCache"),disabled:a,style:{padding:"15px 24px",backgroundColor:t==="getQueryResultCache"?"#36B37E":"#0052CC",color:"white",border:"none",borderRadius:"4px",cursor:a?"not-allowed":"pointer",opacity:a&&t!=="getQueryResultCache"?.6:1,fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease"},children:a&&t==="getQueryResultCache"?"Loading...":" Cached Query"})]}),i&&b.jsxs("div",{style:{padding:"15px",backgroundColor:"#FFEBEE",border:"1px solid #FFCDD2",borderRadius:"4px",color:"#C62828",marginBottom:"20px"},children:[b.jsx("strong",{children:"Error:"})," ",i]}),e&&!i&&b.jsxs("div",{style:{padding:"15px",backgroundColor:"#F4F5F7",borderRadius:"4px",marginTop:"10px"},children:[b.jsx("h3",{style:{margin:"0 0 10px 0",color:"#172B4D"},children:"Query Results"}),b.jsxs("div",{style:{fontSize:"14px",color:"#6B778C",marginBottom:"10px"},children:["Found ",e.length," record(s)"]}),b.jsx("div",{style:{maxHeight:"400px",overflowY:"auto"},children:b.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[b.jsx("thead",{children:b.jsxs("tr",{style:{backgroundColor:"#E9ECF0"},children:[b.jsx("th",{style:{padding:"8px",textAlign:"left",border:"1px solid #ddd"},children:"ID"}),b.jsx("th",{style:{padding:"8px",textAlign:"left",border:"1px solid #ddd"},children:"User ID"}),b.jsx("th",{style:{padding:"8px",textAlign:"left",border:"1px solid #ddd"},children:"Title"}),b.jsx("th",{style:{padding:"8px",textAlign:"left",border:"1px solid #ddd"},children:"Created At"}),b.jsx("th",{style:{padding:"8px",textAlign:"left",border:"1px solid #ddd"},children:"Document ID"})]})}),b.jsx("tbody",{children:e.map((n,u)=>b.jsxs("tr",{children:[b.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd",fontSize:"12px"},children:[String(n.id).substring(0,8),"..."]}),b.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd",fontSize:"12px"},children:[String(n.userId).substring(0,8),"..."]}),b.jsx("td",{style:{padding:"8px",border:"1px solid #ddd"},children:n.title.length>50?`${n.title.substring(0,50)}...`:n.title}),b.jsx("td",{style:{padding:"8px",border:"1px solid #ddd",fontSize:"12px"},children:new Date(n.createdAt).toLocaleString()}),b.jsxs("td",{style:{padding:"8px",border:"1px solid #ddd",fontSize:"12px"},children:[String(n.documentId).substring(0,8),"..."]})]},u))})]})})]})]})]})},Mo=document.getElementById("root"),Do=ri.createRoot(Mo),_n=()=>{Do.render(b.jsx(ui.StrictMode,{children:b.jsx(Ao,{})}))};ti.view.theme.enable().then(()=>{_n()}).catch(e=>{console.error(e.message),_n()});
